{"is_source_file": true, "format": "JavaScript (MongoDB shell script)", "description": "This is a MongoDB initialization script written in JavaScript, setting up collections with schema validation, indexes, and default onboarding steps for a user onboarding system.", "external_files": [], "external_methods": ["db.getCollectionNames", "db.createCollection", "db.runCommand", "db.getCollection", "coll.getIndexes", "coll.createIndex", "print", "db.estimatedDocumentCount", "collection.insertMany"], "published": ["ensureCollectionWithValidator", "ensureIndexes"], "classes": [], "methods": [{"name": "ensureCollectionWithValidator(db, name, validator, options = {})", "description": "Ensures that a collection exists with a specified schema validator, creating or updating as needed.", "scope": "", "scopeKind": ""}, {"name": "ensureIndexes(db, name, indexSpecs)", "description": "Ensures specified indexes exist on a collection, creating them if missing.", "scope": "", "scopeKind": ""}], "calls": ["db.getCollectionNames", "db.createCollection", "db.runCommand", "db.getCollection", "coll.getIndexes", "coll.createIndex", "db.estimatedDocumentCount", "collection.insertMany"], "search-terms": ["init_mongo.js", "MongoDB schema validation", "collections creation", "user onboarding schema", "index setup", "default onboarding steps"], "state": 2, "file_id": 8, "knowledge_revision": 17, "git_revision": "", "ctags": [{"_type": "tag", "name": "_id", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      _id: { bsonType: [\"objectId\"] },$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "_id", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      _id: { bsonType: [\"objectId\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "additionalProperties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        additionalProperties: true,$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile", "scopeKind": "class"}, {"_type": "tag", "name": "additionalProperties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    additionalProperties: true,$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema", "scopeKind": "class"}, {"_type": "tag", "name": "additionalProperties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    additionalProperties: true,$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            bsonType: \"array\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.completedSteps", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            bsonType: \"int\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.currentStep", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            items: { bsonType: \"string\" },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.completedSteps.items", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          completedAt: { bsonType: [\"date\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.completedAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          country: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile.properties.country", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          firstName: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile.properties.firstName", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          lastName: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile.properties.lastName", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          marketingOptIn: { bsonType: [\"bool\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile.properties.marketingOptIn", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          startedAt: { bsonType: [\"date\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.startedAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          timezone: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile.properties.timezone", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: [\"object\", \"null\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.profile", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: [\"string\", \"null\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.oauthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: [\"string\", \"null\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.oauthProviderId", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: [\"string\", \"null\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.passwordHash", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: [\"string\", \"null\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.username", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: \"bool\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.emailVerified", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: \"int\",$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.order", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: \"object\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: \"string\",$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.key", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        bsonType: \"string\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.email", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      _id: { bsonType: [\"objectId\"] },$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties._id", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      _id: { bsonType: [\"objectId\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties._id", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      createdAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.createdAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      createdAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.createdAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      description: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.description", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      isRequired: { bsonType: \"bool\" },$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.isRequired", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      lastLoginAt: { bsonType: [\"date\", \"null\"] },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.lastLoginAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      title: { bsonType: \"string\" },$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.title", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      updatedAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.updatedAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      updatedAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.updatedAt", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    bsonType: \"object\",$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema", "scopeKind": "class"}, {"_type": "tag", "name": "bsonType", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    bsonType: \"object\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema", "scopeKind": "class"}, {"_type": "tag", "name": "completedAt", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          completedAt: { bsonType: [\"date\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.onboarding.properties", "scopeKind": "class"}, {"_type": "tag", "name": "completedSteps", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          completedSteps: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.onboarding.properties", "scopeKind": "class"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          country: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.profile.properties", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      createdAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      createdAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "currentDB", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  const currentDB = db.getName();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentStep", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          currentStep: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.onboarding.properties", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            description: \"Current onboarding step index\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.currentStep", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            description: \"List of completed step identifiers\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.completedSteps", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"BCrypt\\/Argon2 hashed password; null when OAuth-only\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.passwordHash", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"Display order for the step\",$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.order", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"Has the user verified their email\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.emailVerified", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"OAuth provider name if used\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.oauthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"Optional username; unique if present\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.username", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"Provider's unique user ID if OAuth used\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.oauthProviderId", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"Unique step identifier (e.g., 'account', 'profile', 'preferences')\",$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.key", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        description: \"User's email; unique, lowercased\",$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.email", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      description: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      email: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "emailVerified", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      emailVerified: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "ensureCollectionWithValidator", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  function ensureCollectionWithValidator(db, name, validator, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(db, name, validator, options = {})"}, {"_type": "tag", "name": "ensureIndexes", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  function ensureIndexes(db, name, indexSpecs) {$/", "language": "JavaScript", "kind": "function", "signature": "(db, name, indexSpecs)"}, {"_type": "tag", "name": "enum", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        enum: [null, \"google\", \"apple\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.oauthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "existingCount", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  const existingCount = stepsColl.estimatedDocumentCount();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "firstName", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          firstName: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.profile.properties", "scopeKind": "class"}, {"_type": "tag", "name": "isRequired", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      isRequired: { bsonType: \"bool\" },$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            items: { bsonType: \"string\" },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.onboarding.properties.completedSteps", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      key: {$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "lastLoginAt", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      lastLoginAt: { bsonType: [\"date\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "lastName", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          lastName: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.profile.properties", "scopeKind": "class"}, {"_type": "tag", "name": "marketingOptIn", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          marketingOptIn: { bsonType: [\"bool\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.profile.properties", "scopeKind": "class"}, {"_type": "tag", "name": "minimum", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^            minimum: 0,$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding.properties.currentStep", "scopeKind": "class"}, {"_type": "tag", "name": "minimum", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        minimum: 0,$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema.properties.order", "scopeKind": "class"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    const now = new Date();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "oauthProvider", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      oauthProvider: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "oauthProviderId", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      oauthProviderId: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "onboarding", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      onboarding: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "onboardingStepsSchema", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  const onboardingStepsSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      order: {$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "passwordHash", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      passwordHash: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "profile", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      profile: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "properties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        properties: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.onboarding", "scopeKind": "class"}, {"_type": "tag", "name": "properties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        properties: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.profile", "scopeKind": "class"}, {"_type": "tag", "name": "properties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    properties: {$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema", "scopeKind": "class"}, {"_type": "tag", "name": "properties", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    properties: {$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema", "scopeKind": "class"}, {"_type": "tag", "name": "required", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^        required: [\"currentStep\", \"completedSteps\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema.properties.onboarding", "scopeKind": "class"}, {"_type": "tag", "name": "required", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    required: [\"email\", \"passwordHash\", \"onboarding\"],$/", "language": "JavaScript", "kind": "property", "scope": "usersSchema", "scopeKind": "class"}, {"_type": "tag", "name": "required", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^    required: [\"key\", \"order\", \"title\"],$/", "language": "JavaScript", "kind": "property", "scope": "onboardingStepsSchema", "scopeKind": "class"}, {"_type": "tag", "name": "startedAt", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          startedAt: { bsonType: [\"date\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.onboarding.properties", "scopeKind": "class"}, {"_type": "tag", "name": "stepsColl", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  const stepsColl = db.getCollection(\"onboarding_steps\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "timezone", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^          timezone: { bsonType: [\"string\", \"null\"] },$/", "language": "JavaScript", "kind": "class", "scope": "usersSchema.properties.profile.properties", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      title: { bsonType: \"string\" },$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^      updatedAt: { bsonType: \"date\" },$/", "language": "JavaScript", "kind": "class", "scope": "onboardingStepsSchema.properties", "scopeKind": "class"}, {"_type": "tag", "name": "usersSchema", "path": "/home/kavia/workspace/code-generation/seamless-sign-up-experience-134624-134634/signup_database/init_mongo.js", "pattern": "/^  const usersSchema = {$/", "language": "JavaScript", "kind": "class"}], "hash": "630100d65ff39f1388daaec112e8ee43", "format-version": 4, "code-base-name": "signup_database", "filename": "signup_database/init_mongo.js", "fields": [{"name": "additionalProperties: true,", "scope": "usersSchema.properties.profile", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: \"array\",", "scope": "usersSchema.properties.onboarding.properties.completedSteps", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: \"int\",", "scope": "usersSchema.properties.onboarding.properties.currentStep", "scopeKind": "class", "description": "unavailable"}, {"name": "items: { bsonType: \"string\" },", "scope": "usersSchema.properties.onboarding.properties.completedSteps.items", "scopeKind": "class", "description": "unavailable"}, {"name": "completedAt: { bsonType: [\"date\", \"null\"] },", "scope": "usersSchema.properties.onboarding.properties.completedAt", "scopeKind": "class", "description": "unavailable"}, {"name": "country: { bsonType: [\"string\", \"null\"] },", "scope": "usersSchema.properties.profile.properties.country", "scopeKind": "class", "description": "unavailable"}, {"name": "firstName: { bsonType: [\"string\", \"null\"] },", "scope": "usersSchema.properties.profile.properties.firstName", "scopeKind": "class", "description": "unavailable"}, {"name": "lastName: { bsonType: [\"string\", \"null\"] },", "scope": "usersSchema.properties.profile.properties.lastName", "scopeKind": "class", "description": "unavailable"}, {"name": "marketingOptIn: { bsonType: [\"bool\", \"null\"] },", "scope": "usersSchema.properties.profile.properties.marketingOptIn", "scopeKind": "class", "description": "unavailable"}, {"name": "startedAt: { bsonType: [\"date\", \"null\"] },", "scope": "usersSchema.properties.onboarding.properties.startedAt", "scopeKind": "class", "description": "unavailable"}, {"name": "timezone: { bsonType: [\"string\", \"null\"] },", "scope": "usersSchema.properties.profile.properties.timezone", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: [\"object\", \"null\"],", "scope": "usersSchema.properties.profile", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: [\"string\", \"null\"],", "scope": "usersSchema.properties.oauthProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: \"bool\",", "scope": "usersSchema.properties.emailVerified", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: \"object\",", "scope": "usersSchema.properties.onboarding", "scopeKind": "class", "description": "unavailable"}, {"name": "bsonType: \"string\",", "scope": "onboardingStepsSchema.properties.key", "scopeKind": "class", "description": "unavailable"}, {"name": "_id: { bsonType: [\"objectId\"] },", "scope": "onboardingStepsSchema.properties._id", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: { bsonType: \"date\" },", "scope": "onboardingStepsSchema.properties.createdAt", "scopeKind": "class", "description": "unavailable"}, {"name": "description: { bsonType: [\"string\", \"null\"] },", "scope": "onboardingStepsSchema.properties.description", "scopeKind": "class", "description": "unavailable"}, {"name": "isRequired: { bsonType: \"bool\" },", "scope": "onboardingStepsSchema.properties.isRequired", "scopeKind": "class", "description": "unavailable"}, {"name": "lastLoginAt: { bsonType: [\"date\", \"null\"] },", "scope": "usersSchema.properties.lastLoginAt", "scopeKind": "class", "description": "unavailable"}, {"name": "title: { bsonType: \"string\" },", "scope": "onboardingStepsSchema.properties.title", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: { bsonType: \"date\" },", "scope": "onboardingStepsSchema.properties.updatedAt", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"Current onboarding step index\",", "scope": "usersSchema.properties.onboarding.properties.currentStep", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"List of completed step identifiers\",", "scope": "usersSchema.properties.onboarding.properties.completedSteps", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"BCrypt\\/Argon2 hashed password; null when OAuth-only\",", "scope": "usersSchema.properties.passwordHash", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"Display order for the step\",", "scope": "onboardingStepsSchema.properties.order", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"Has the user verified their email\",", "scope": "usersSchema.properties.emailVerified", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"OAuth provider name if used\",", "scope": "usersSchema.properties.oauthProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"Optional username; unique if present\",", "scope": "usersSchema.properties.username", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"Provider's unique user ID if OAuth used\",", "scope": "usersSchema.properties.oauthProviderId", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"Unique step identifier (e.g., 'account', 'profile', 'preferences')\",", "scope": "onboardingStepsSchema.properties.key", "scopeKind": "class", "description": "unavailable"}, {"name": "description: \"User's email; unique, lowercased\",", "scope": "usersSchema.properties.email", "scopeKind": "class", "description": "unavailable"}, {"name": "enum: [null, \"google\", \"apple\"],", "scope": "usersSchema.properties.oauthProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "minimum: 0,", "scope": "usersSchema.properties.onboarding.properties.currentStep", "scopeKind": "class", "description": "unavailable"}, {"name": "required: [\"currentStep\", \"completedSteps\"],", "scope": "usersSchema.properties.onboarding", "scopeKind": "class", "description": "unavailable"}, {"name": "required: [\"email\", \"passwordHash\", \"onboarding\"],", "scope": "usersSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "required: [\"key\", \"order\", \"title\"],", "scope": "onboardingStepsSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"17": ""}]}